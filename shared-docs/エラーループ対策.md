# ClaudeCode エラーループ防止ガイド

## 概要
ClaudeCodeが複雑なエラーにはまり込んで永遠に抜け出せなくなる問題への対処法

## エラーループの兆候
- 同じエラーメッセージが3回以上続く
- 修正を試みても状況が改善しない
- 異なる修正アプローチでも同じ結果になる

## 対処法

### 1. 即座にコード修正を停止
```
「エラーループに入ったようです。一旦コード修正を停止して、状況を整理してください」
```

### 2. 状況整理を指示
```
「以下の点を整理してください：
1. 現在のエラーの内容
2. これまで試した修正方法
3. エラーの根本原因の推測」
```

### 3. 情報収集を促す
```
「このエラーについて以下を調査してください：
1. 類似のエラー事例
2. 公式ドキュメントの関連部分
3. Stack Overflowなどでの解決事例」
```

### 4. 段階的アプローチ
```
「最小限の修正から始めましょう：
1. まず1行だけ変更
2. 動作確認
3. 問題なければ次の修正へ」
```

## 予防策

### プロジェクト開始時
1. 小さな変更から始める
2. 頻繁に動作確認を行う
3. バージョン管理を活用

### 開発中
1. 大きな変更は避ける
2. テストを先に書く
3. エラーメッセージを注意深く読む

## Workerエージェントへの指示例

```bash
# エラーループ検出時
./scripts/agent-send.sh worker1 "同じエラーが3回続いています。修正を一旦停止し、エラーの根本原因を分析してください"

# 段階的修正の指示
./scripts/agent-send.sh worker2 "エラーループ回避のため、最小限の修正から始めてください。まず1つの関数のみ修正して動作確認をお願いします"
```

## 関連リンク
- [Claude Code Common Workflows](https://docs.anthropic.com/en/docs/claude-code/common-workflows)
- Git worktreeを使った並列開発での問題切り分け

## 更新履歴
- 2024-01-XX: 初版作成